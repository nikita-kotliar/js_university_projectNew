{"version":3,"file":"exercises_card-DWHudeYy.js","sources":["../../src/js/localalStorageLogical.js","../../src/js/header.js","../../src/js/favourite_exercises.js","../../src/js/rate.js","../../src/js/exercises_card.js"],"sourcesContent":["export const LS_FAV = 'favourite';\n\nexport const setFav = arr => {\n  localStorage.setItem(LS_FAV, JSON.stringify(arr));\n};\n\nexport const getFav = key => {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n\nexport const removeFromFav = id => {\n  const filteredArr = getFav(LS_FAV).filter(obj => obj._id !== id);\n  localStorage.removeItem(LS_FAV);\n  localStorage.setItem(LS_FAV, JSON.stringify(filteredArr));\n};\n\nconst QUOTE_KEY = 'daily_quote';\nconst QUOTE_TIME_KEY = 'daily_quote_time';\nconst ONE_DAY_MS = 24 * 60 * 60 * 1000;\n\nasync function getQuote() {\n  const storedQuote = localStorage.getItem(QUOTE_KEY);\n  const storedTime = localStorage.getItem(QUOTE_TIME_KEY);\n\n  if (\n    storedQuote &&\n    storedTime &&\n    Date.now() - Number(storedTime) < ONE_DAY_MS\n  ) {\n    return JSON.parse(storedQuote);\n  }\n\n  try {\n    const res = await fetch('https://your-energy.b.goit.study/api/quote');\n    const data = await res.json();\n\n    localStorage.setItem(QUOTE_KEY, JSON.stringify(data));\n    localStorage.setItem(QUOTE_TIME_KEY, Date.now().toString());\n\n    return data;\n  } catch (err) {\n    console.error('Error fetching quote:', err);\n    if (storedQuote) return JSON.parse(storedQuote);\n    return { quote: 'No quote available', author: '' };\n  }\n}\n\nexport const displayQuote = async quoteContainer => {\n  const { quote, author } = await getQuote();\n  quoteContainer.innerHTML = renderQuoteHTML(quote, author);\n};\n\nconst renderQuoteHTML = (quote, author) => `\n  <svg width=\"32\" height=\"32\" class=\"quote-text-icon\">\n    <use href=\"/js_university_projectNew/symbol-defs.svg#icon-run\"></use>\n  </svg>\n  <div>\n    <h3 class=\"main-quote-title\">Quote of the day</h3>\n    <p class=\"main-quote-text\">${quote}</p>\n    <p class=\"main-quote-author\">${author}</p>\n    <svg width=\"24\" height=\"24\" class=\"quote-text-icon-commas\">\n      <use href=\"/js_university_projectNew/symbol-defs.svg#icon-commas\"></use>\n    </svg>\n  </div>\n`;\n","const currentPage = window.location.pathname;\n\nconst homeLink = document.getElementById('homeLink');\nconst favoritesLink = document.getElementById('favoritesLink');\n\nhomeLink.classList.remove('active');\nfavoritesLink.classList.remove('active');\n\nif (currentPage.includes('index.html')) {\n  homeLink.classList.add('active');\n} else if (currentPage.includes('favorites.html')) {\n  favoritesLink.classList.add('active');\n}\n\nconst openMenuButton = document.querySelector('.open-mobile-menu-btn');\nconst closeMenuButton = document.querySelector('.close-mobile-menu-btn');\nconst mobileMenuWrapper = document.querySelector('.mobile-menu-wrapper');\nconst mobileMenu = document.querySelector('.mobile-menu');\n\nopenMenuButton.addEventListener('click', () => {\n  mobileMenuWrapper.classList.add('is-open');\n  document.body.classList.add('not-scrollable');\n});\n\ncloseMenuButton.addEventListener('click', () => {\n  closeMenu();\n});\n\nmobileMenuWrapper.addEventListener('click', () => {\n  closeMenu();\n});\n\nmobileMenu.addEventListener('click', e => {\n  e.stopPropagation();\n});\n\nfunction closeMenu() {\n  mobileMenuWrapper.classList.remove('is-open');\n  document.body.classList.remove('not-scrollable');\n}\n\n","import handlerStartBtn from './exercises_card.js';\nimport * as localalStorageLogical from './localalStorageLogical';\nimport * as header from './header';\n\nimport {\n  getFav,\n  removeFromFav,\n  LS_FAV,\n  displayQuote,\n} from './localalStorageLogical.js';\n\n\nconst refs = {\n  cardSet: document.querySelector('.fav_card_list'),\n  noCards: document.querySelector('.no_cards_wrapper'),\n  quoteContainer: document.querySelector('.quote'),\n  noCardsContainer: document.querySelector('.no_cards_wrapper-container'),\n  paginationCards: document.querySelector('.pagination-cards'),\n};\n\nlet page = 1;\nconst CARDS_PER_PAGE = 8;\n\n/* ================= UTILS ================= */\n\nconst getCardsByPage = (arr, page) => {\n  const start = (page - 1) * CARDS_PER_PAGE;\n  const end = start + CARDS_PER_PAGE;\n  return arr.slice(start, end);\n};\n\nconst uniqueIdFilter = (arr = []) => {\n  const uniqueIds = new Set();\n  return arr.filter(obj => {\n    if (!obj?._id) return false;\n    if (uniqueIds.has(obj._id)) return false;\n    uniqueIds.add(obj._id);\n    return true;\n  });\n};\n\n/* ================= RENDER ================= */\n\nconst renderCards = arr => {\n  const markup = arr\n    .map(({ name, _id, burnedCalories, bodyPart, target, time = 3 }) => {\n      let calories = `${burnedCalories} / ${time} min`;\n      let bodyPartLet = bodyPart;\n      let targetLet = target;\n\n      if (name.length > 32) name = name.slice(0, 26) + '...';\n\n      if (window.innerWidth < 1440) {\n        if (name.length > 24) name = name.slice(0, 20) + '...';\n        bodyPartLet = '...';\n        targetLet = '...';\n      }\n\n      if (window.innerWidth < 768) {\n        calories = `${burnedCalories} /... min`;\n        if (name.length > 22) name = name.slice(0, 18) + '...';\n      }\n\n      return `\n        <li class=\"exercise-information\" data-id-card=\"${_id}\" data-component=\"fav_card\">\n          <div class=\"top-nav\">\n            <div>\n              <p class=\"tag\">Workout</p>\n              <button\n                name=\"trash\"\n                data-id-del-btn=\"${_id}\"\n                data-action=\"delete_fav_card\"\n                class=\"trash-btn\">\n                <svg class=\"trash-icon\" width=\"16\" height=\"16\">\n                  <use href=\"/js_university_projectNew/symbol-defs.svg#icon-trash\"></use>\n                </svg>\n              </button>\n            </div>\n\n            <div class=\"actions\">\n              <button\n                name=\"start\"\n                data-id-start-btn=\"${_id}\"\n                data-action=\"start_exercise_btn\"\n                class=\"details-link\">\n                Start\n                <svg class=\"arrow-icon\" width=\"16\" height=\"16\">\n                  <use href=\"/js_university_projectNew/symbol-defs.svg#icon-arrow\"></use>\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          <div class=\"exercise-header\">\n            <svg class=\"icon-man\" width=\"24\" height=\"24\">\n              <use href=\"/js_university_projectNew/symbol-defs.svg#icon-run\"></use>\n            </svg>\n            <h2 class=\"exercise-name\">${name}</h2>\n          </div>\n\n          <ul class=\"exercise-details\">\n            <li><span>Burned calories:</span> ${calories}</li>\n            <li><span>Body part:</span> ${bodyPartLet}</li>\n            <li><span>Target:</span> ${targetLet}</li>\n          </ul>\n        </li>\n      `;\n    })\n    .join('');\n\n  refs.cardSet.innerHTML = markup;\n};\n\n/* ================= EVENTS ================= */\n\nconst onClick = e => {\n  const startBtn = e.target.closest('[data-action=\"start_exercise_btn\"]');\n  const deleteBtn = e.target.closest('[data-action=\"delete_fav_card\"]');\n\n  if (!startBtn && !deleteBtn) return;\n\n  if (deleteBtn) {\n    removeFromFav(deleteBtn.dataset.idDelBtn);\n    checkStorage();\n    return;\n  }\n\n  if (startBtn) {\n    const favs = getFav(LS_FAV) || [];\n    const exercise = favs.find(el => el._id === startBtn.dataset.idStartBtn);\n\n    if (exercise) {\n      handlerStartBtn(exercise, true, true);\n    }\n  }\n};\n\nif (refs.cardSet) {\n  refs.cardSet.addEventListener('click', onClick);\n}\n\n/* ================= PAGINATION ================= */\n\nfunction renderPaginationCards(totalPages) {\n  if (!refs.paginationCards) return;\n\n  if (totalPages <= 1) {\n    refs.paginationCards.innerHTML = '';\n    return;\n  }\n\n  refs.paginationCards.innerHTML = Array.from(\n    { length: totalPages },\n    (_, i) => `\n      <li>\n        <button\n          name=\"pagination\"\n          class=\"pagination-btn ${page === i + 1 ? 'active' : ''}\"\n          data-page=\"${i + 1}\">\n          ${i + 1}\n        </button>\n      </li>\n    `\n  ).join('');\n}\n\nif (refs.paginationCards) {\n  refs.paginationCards.addEventListener('click', e => {\n    const btn = e.target.closest('.pagination-btn');\n    if (!btn) return;\n\n    page = Number(btn.dataset.page);\n    checkStorage();\n  });\n}\n\n/* ================= STORAGE CHECK ================= */\n\nexport const checkStorage = () => {\n  if (!document.querySelector('.favourite_exercises')) return;\n\n  const favsRaw = getFav(LS_FAV) || [];\n  const favs = uniqueIdFilter(favsRaw);\n\n  if (!favs.length) {\n    refs.noCards.classList.remove('visually-hidden');\n    refs.noCardsContainer.classList.remove('visually-hidden');\n    refs.cardSet.classList.add('visually-hidden');\n    refs.paginationCards.innerHTML = '';\n    return;\n  }\n\n  refs.noCards.classList.add('visually-hidden');\n  refs.noCardsContainer.classList.add('visually-hidden');\n  refs.cardSet.classList.remove('visually-hidden');\n\n  if (window.innerWidth < 1440) {\n    const totalPages = Math.ceil(favs.length / CARDS_PER_PAGE);\n    if (page > totalPages) page = totalPages;\n\n    renderCards(getCardsByPage(favs, page));\n    renderPaginationCards(totalPages);\n  } else {\n    renderCards(favs);\n    refs.paginationCards.innerHTML = '';\n  }\n};\n\n\nwindow.addEventListener('resize', () => {\n  page = 1;\n  checkStorage();\n});\n\ncheckStorage();\ndisplayQuote(refs.quoteContainer);\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport async function addExerciseRatingById(id, { email, rate, comment }) {\n  const url = `https://your-energy.b.goit.study/api/exercises/${id}/rating`;\n  rate = Number(rate);\n\n  const response = await fetch(url, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      email,\n      rate,\n      review: comment,\n    }),\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.message || 'Rating failed');\n  }\n\n  return response.json();\n}\n\nconst formCloseBtn = document.getElementById('form-close-btn');\nconst backdrop = document.querySelector('.backdrop');\nconst userEmail = document.querySelector('#user-email');\nconst userComment = document.getElementById('user-comment');\nconst formSendBtn = document.querySelector('.form-send-btn');\nconst ratingWrapper = document.querySelector('.rating-wrapper');\nconst ratingStarValue = document.querySelector('.rating-star-value');\nconst backdropForm = document.querySelector('.backdrop-form');\n\nlet exerciseId = null;\nconst userFeedback = {\n  rate: 0,\n  email: '',\n  comment: '',\n};\n\nformSendBtn.disabled = false;\n\nfunction resetForm() {\n  userEmail.value = '';\n  userComment.value = '';\n  userFeedback.rate = 0;\n  userFeedback.comment = '';\n  userFeedback.email = '';\n\n  ratingStarValue.textContent = '0.0';\n\n  const ratingStarIcons = document.querySelectorAll('.rating-star-icons');\n  ratingStarIcons.forEach(icon => {\n    icon.style.fill = 'var(--white-20)';\n  });\n}\n\nformCloseBtn.addEventListener('click', () => {\n  backdrop.classList.remove('is-open');\n});\n\nbackdrop.addEventListener('click', event => {\n  if (event.target === backdrop) backdrop.classList.remove('is-open');\n});\n\nratingWrapper.addEventListener('click', event => {\n  const ratingStarIcons = document.querySelectorAll('.rating-star-icons');\n  if (!event.target.dataset.id) return;\n\n  userFeedback.rate = Number(event.target.dataset.id);\n\n  for (let i = 0; i < 5; i++) {\n    ratingStarIcons[i].style.fill =\n      i < userFeedback.rate ? 'var(--orange-color)' : 'var(--white-20)';\n  }\n\n  ratingStarValue.textContent = `${userFeedback.rate}.0`;\n});\n\nexport function handlerOpenRate(id) {\n  exerciseId = id;\n  backdrop.classList.add('is-open');\n}\n\nbackdropForm.addEventListener('submit', handlerAddRate);\n\nasync function handlerAddRate(event) {\n  event.preventDefault();\n  userFeedback.email = userEmail.value.trim();\n  userFeedback.comment = userComment.value.trim() || undefined;\n\n  if (!userFeedback.rate) {\n    iziToast.error({\n      message: 'Please select a rating',\n      position: 'topRight',\n      color: 'red',\n    });\n    return; \n  }\n\n  if (userFeedback.email) {\n    try {\n      await addExerciseRatingById(exerciseId, userFeedback);\n      iziToast.success({\n        message: 'Your rating is accepted',\n        position: 'topRight',\n        color: 'green',\n      });\n      resetForm();\n      backdrop.classList.remove('is-open');\n    } catch (error) {\n      iziToast.error({\n        message: `${error.message}`,\n        position: 'topRight',\n        color: 'red',\n      });\n    }\n  } else {\n    iziToast.error({\n      message: 'Please enter your email',\n      position: 'topRight',\n      color: 'red',\n    });\n  }\n}\n","\nimport * as localStorageLogic from './localalStorageLogical';\nimport { checkStorage } from './favourite_exercises';\nimport { handlerOpenRate } from './rate';\n\nconst cardBackdrop = document.querySelector('.exr-card-backdrop');\nlet isFavourite = false;\nlet savedExercises = [];\nlet tempArray = JSON.parse(localStorage.getItem('favourite'));\nif (tempArray) {\n  tempArray.forEach(element => {\n    if (!savedExercises[0]) savedExercises[0] = element;\n    savedExercises.push(element);\n  });\n}\n\nfunction capitalizeFirstLetter(string) {\n  return `${string.charAt(0).toUpperCase()}${string.slice(1)}`;\n}\n\nexport default function handlerStartBtn(\n  exercise,\n  isFav = false,\n  isFavouritePage = false\n) {\n  isFavourite = isFav;\n  if (!isFavourite) {\n    savedExercises.forEach(element => {\n      if (element._id === exercise._id) isFavourite = true;\n    });\n  }\n\n  renderModal(exercise);\n  cardBackdrop.classList.add('card-is-open');\n  document.body.classList.add('not-scrollable');\n\n  if (isFavourite === true) {\n    document.querySelector('.add-favourite-btn').innerHTML = `Remove from\n          <svg class=\"heart-icon\">\n            <use href=\"/js_university_projectNew/symbol-defs.svg#icon-heart\"></use>\n          </svg>`;\n  }\n}\n\nfunction renderModal(data, isFavouritePage) {\n  let rating = data.rating;\n  if (rating % 1 === 0) rating += '.0';\n  rating = parseFloat(rating).toFixed(1);\n  const markup = `\n    <div class=\"exr-card-cont\">\n      <button name=\"close\" id=\"close-card\" type=\"button\" class=\"close-card-button\">\n      <svg class=\"close-card-icon\"\">\n        <use href=\"/js_university_projectNew/symbol-defs.svg#icon-x\"></use>\n      </svg>\n      </button>\n      <img src=\"${data.gifUrl}\" alt=\"example-img\" class=\"exr-image\" />\n      <div>\n      <h3 class=\"exercise-name\">${capitalizeFirstLetter(data.name)}</h3>\n      <div class=\"rating-container\">\n        <ul class=\"star-rating-list\">\n          <li>\n            <p class=\"rating-score\">${rating}</p>\n          </li>\n          <li>\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\n              <use href=\"/js_university_projectNew/symbol-defs.svg#icon-star\"></use>\n            </svg>\n          </li>\n          <li>\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\n              <use href=\"/js_university_projectNew/symbol-defs.svg#icon-star\"></use>\n            </svg>\n          </li>\n          <li>\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\n              <use href=\"/js_university_projectNew/symbol-defs.svg#icon-star\"></use>\n            </svg>\n          </li>\n          <li>\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\n              <use href=\"/js_university_projectNew/symbol-defs.svg#icon-star\"></use>\n            </svg>\n          </li>\n          <li>\n            <svg class=\"star-rating-icon\" width=\"14px\" height=\"14px\">\n              <use href=\"/js_university_projectNew/symbol-defs.svg#icon-star\"></use>\n            </svg>\n          </li>\n        </ul>\n      </div>\n      <div class=\"exr-information-container\">\n        <div class=\"exr-info-block\">\n          <p class=\"info-label\">Target</p>\n          <p class=\"exr-info\" id=\"exr-target\">${capitalizeFirstLetter(\n            data.target\n          )}</p>\n        </div>\n        <div class=\"exr-info-block\">\n          <p class=\"info-label\">Body Part</p>\n          <p class=\"exr-info\" id=\"body-part\">${capitalizeFirstLetter(\n            data.bodyPart\n          )}</p>\n        </div>\n        <div class=\"exr-info-block\">\n          <p class=\"info-label\">Equipment</p>\n          <p class=\"exr-info\" id=\"exr-equip\">${capitalizeFirstLetter(\n            data.equipment\n          )}</p>\n        </div>\n        <div class=\"exr-info-block\">\n          <p class=\"info-label\">Popular</p>\n          <p class=\"exr-info\" id=\"exr-popularity\">${data.popularity}</p>\n        </div>\n        <div class=\"exr-info-block\">\n          <p class=\"info-label\">Burned Calories</p>\n          <p class=\"exr-info\" id=\"burned-cal\">${data.burnedCalories}/${data.time} min</p>\n        </div>\n      </div>\n      <p class=\"exr-description\">${data.description}</p>\n      <div class=\"buttons-cont\">\n        <button name=\"add-favorurite\" class=\"add-favourite-btn\">\n          Add to favourites\n          <svg class=\"heart-icon\" width=\"20px\" height=\"20px\">\n            <use href=\"/js_university_projectNew/symbol-defs.svg#icon-heart\"></use>\n          </svg>\n        </button>\n        <button name=\"rating\" class=\"give-rating-btn\">Give a rating</button>\n      </div>\n    </div>`;\n  cardBackdrop.innerHTML = markup;\n  const arrStar = document.querySelectorAll('.star-rating-icon');\n  for (let i = 0; i < Math.round(data.rating); ++i) {\n    arrStar[i].style.fill = '#eea10c';\n  }\n\n  const addFavBtn = document.querySelector('.add-favourite-btn');\n\n  addFavBtn.addEventListener('click', function () {\n    if (!isFavourite) {\n      savedExercises.push(data);\n      localStorageLogic.setFav(savedExercises);\n      addFavBtn.innerHTML = `Remove from\n          <svg class=\"heart-icon\" width=\"20px\" height=\"20px\">\n            <use href=\"/js_university_projectNew/symbol-defs.svg#icon-heart\"></use>\n          </svg>`;\n      isFavourite = true;\n    } else {\n      localStorageLogic.removeFromFav(data._id);\n      addFavBtn.innerHTML = `Add to favourite\n          <svg class=\"heart-icon\" width=\"20px\" height=\"20px\">\n            <use href=\"/js_university_projectNew/symbol-defs.svg#icon-heart\"></use>\n          </svg>`;\n      isFavourite = false;\n    }\n    checkStorage();\n  });\n\n  document.getElementById('close-card').addEventListener('click', () => {\n    cardBackdrop.classList.remove('card-is-open');\n    document.body.classList.remove('not-scrollable');\n  });\n\n  cardBackdrop.addEventListener('click', event => {\n    if (event.target === cardBackdrop) {\n      cardBackdrop.classList.remove('card-is-open');\n      document.body.classList.remove('not-scrollable');\n    }\n  });\n\n  document.querySelector('.give-rating-btn').addEventListener('click', () => {\n    cardBackdrop.classList.remove('card-is-open');\n    document.body.classList.remove('not-scrollable');\n    handlerOpenRate(data._id);\n  });\n}\n"],"names":["LS_FAV","setFav","arr","getFav","key","err","removeFromFav","id","filteredArr","obj","QUOTE_KEY","QUOTE_TIME_KEY","ONE_DAY_MS","getQuote","storedQuote","storedTime","data","displayQuote","quoteContainer","quote","author","renderQuoteHTML","currentPage","homeLink","favoritesLink","openMenuButton","closeMenuButton","mobileMenuWrapper","mobileMenu","closeMenu","refs","page","CARDS_PER_PAGE","getCardsByPage","start","end","uniqueIdFilter","uniqueIds","renderCards","markup","name","_id","burnedCalories","bodyPart","target","time","calories","bodyPartLet","targetLet","onClick","startBtn","deleteBtn","checkStorage","exercise","el","handlerStartBtn","renderPaginationCards","totalPages","_","i","btn","favsRaw","favs","addExerciseRatingById","email","rate","comment","url","response","errorData","formCloseBtn","backdrop","userEmail","userComment","formSendBtn","ratingWrapper","ratingStarValue","backdropForm","exerciseId","userFeedback","resetForm","icon","event","ratingStarIcons","handlerOpenRate","handlerAddRate","iziToast","error","cardBackdrop","isFavourite","savedExercises","tempArray","element","capitalizeFirstLetter","string","isFav","isFavouritePage","renderModal","rating","arrStar","addFavBtn","localStorageLogic.removeFromFav","localStorageLogic.setFav"],"mappings":"+uBAAO,MAAMA,EAAS,YAETC,EAASC,GAAO,CAC3B,aAAa,QAAQF,EAAQ,KAAK,UAAUE,CAAG,CAAC,CAClD,EAEaC,EAASC,GAAO,CAC3B,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC5C,OAAQC,EAAK,CACZ,QAAQ,IAAIA,EAAI,OAAO,CACxB,CACH,EAEaC,EAAgBC,GAAM,CACjC,MAAMC,EAAcL,EAAOH,CAAM,EAAE,OAAOS,GAAOA,EAAI,MAAQF,CAAE,EAC/D,aAAa,WAAWP,CAAM,EAC9B,aAAa,QAAQA,EAAQ,KAAK,UAAUQ,CAAW,CAAC,CAC1D,EAEME,EAAY,cACZC,EAAiB,mBACjBC,EAAa,GAAK,GAAK,GAAK,IAElC,eAAeC,GAAW,CACxB,MAAMC,EAAc,aAAa,QAAQJ,CAAS,EAC5CK,EAAa,aAAa,QAAQJ,CAAc,EAEtD,GACEG,GACAC,GACA,KAAK,IAAK,EAAG,OAAOA,CAAU,EAAIH,EAElC,OAAO,KAAK,MAAME,CAAW,EAG/B,GAAI,CAEF,MAAME,EAAO,MADD,MAAM,MAAM,4CAA4C,GAC7C,OAEvB,oBAAa,QAAQN,EAAW,KAAK,UAAUM,CAAI,CAAC,EACpD,aAAa,QAAQL,EAAgB,KAAK,IAAK,EAAC,SAAQ,CAAE,EAEnDK,CACR,OAAQX,EAAK,CAEZ,OADA,QAAQ,MAAM,wBAAyBA,CAAG,EACtCS,EAAoB,KAAK,MAAMA,CAAW,EACvC,CAAE,MAAO,qBAAsB,OAAQ,EAAE,CACjD,CACH,CAEY,MAACG,EAAe,MAAMC,GAAkB,CAClD,KAAM,CAAE,MAAAC,EAAO,OAAAC,GAAW,MAAMP,EAAQ,EACxCK,EAAe,UAAYG,EAAgBF,EAAOC,CAAM,CAC1D,EAEMC,EAAkB,CAACF,EAAOC,IAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAMVD,CAAK;AAAA,mCACHC,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA,EC/DnCE,EAAc,OAAO,SAAS,SAE9BC,EAAW,SAAS,eAAe,UAAU,EAC7CC,EAAgB,SAAS,eAAe,eAAe,EAE7DD,EAAS,UAAU,OAAO,QAAQ,EAClCC,EAAc,UAAU,OAAO,QAAQ,EAEnCF,EAAY,SAAS,YAAY,EACnCC,EAAS,UAAU,IAAI,QAAQ,EACtBD,EAAY,SAAS,gBAAgB,GAC9CE,EAAc,UAAU,IAAI,QAAQ,EAGtC,MAAMC,EAAiB,SAAS,cAAc,uBAAuB,EAC/DC,EAAkB,SAAS,cAAc,wBAAwB,EACjEC,EAAoB,SAAS,cAAc,sBAAsB,EACjEC,EAAa,SAAS,cAAc,cAAc,EAExDH,EAAe,iBAAiB,QAAS,IAAM,CAC7CE,EAAkB,UAAU,IAAI,SAAS,EACzC,SAAS,KAAK,UAAU,IAAI,gBAAgB,CAC9C,CAAC,EAEDD,EAAgB,iBAAiB,QAAS,IAAM,CAC9CG,GACF,CAAC,EAEDF,EAAkB,iBAAiB,QAAS,IAAM,CAChDE,GACF,CAAC,EAEDD,EAAW,iBAAiB,QAAS,GAAK,CACxC,EAAE,gBAAe,CACnB,CAAC,EAED,SAASC,GAAY,CACnBF,EAAkB,UAAU,OAAO,SAAS,EAC5C,SAAS,KAAK,UAAU,OAAO,gBAAgB,CACjD,CC3BA,MAAMG,EAAO,CACX,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,mBAAmB,EACnD,eAAgB,SAAS,cAAc,QAAQ,EAC/C,iBAAkB,SAAS,cAAc,6BAA6B,EACtE,gBAAiB,SAAS,cAAc,mBAAmB,CAC7D,EAEA,IAAIC,EAAO,EACX,MAAMC,EAAiB,EAIjBC,EAAiB,CAAC/B,EAAK6B,IAAS,CACpC,MAAMG,GAASH,EAAO,GAAKC,EACrBG,EAAMD,EAAQF,EACpB,OAAO9B,EAAI,MAAMgC,EAAOC,CAAG,CAC7B,EAEMC,EAAiB,CAAClC,EAAM,KAAO,CACnC,MAAMmC,EAAY,IAAI,IACtB,OAAOnC,EAAI,OAAOO,GACZ,EAACA,GAAA,MAAAA,EAAK,MACN4B,EAAU,IAAI5B,EAAI,GAAG,EAAU,IACnC4B,EAAU,IAAI5B,EAAI,GAAG,EACd,GACR,CACH,EAIM6B,EAAcpC,GAAO,CACzB,MAAMqC,EAASrC,EACZ,IAAI,CAAC,CAAE,KAAAsC,EAAM,IAAAC,EAAK,eAAAC,EAAgB,SAAAC,EAAU,OAAAC,EAAQ,KAAAC,EAAO,KAAQ,CAClE,IAAIC,EAAW,GAAGJ,CAAc,MAAMG,CAAI,OACtCE,EAAcJ,EACdK,EAAYJ,EAEhB,OAAIJ,EAAK,OAAS,KAAIA,EAAOA,EAAK,MAAM,EAAG,EAAE,EAAI,OAE7C,OAAO,WAAa,OAClBA,EAAK,OAAS,KAAIA,EAAOA,EAAK,MAAM,EAAG,EAAE,EAAI,OACjDO,EAAc,MACdC,EAAY,OAGV,OAAO,WAAa,MACtBF,EAAW,GAAGJ,CAAc,YACxBF,EAAK,OAAS,KAAIA,EAAOA,EAAK,MAAM,EAAG,EAAE,EAAI,QAG5C;AAAA,yDAC4CC,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAMzBA,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAYDA,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAeAD,CAAI;AAAA;AAAA;AAAA;AAAA,gDAIIM,CAAQ;AAAA,0CACdC,CAAW;AAAA,uCACdC,CAAS;AAAA;AAAA;AAAA,OAIhD,CAAK,EACA,KAAK,EAAE,EAEVlB,EAAK,QAAQ,UAAYS,CAC3B,EAIMU,EAAU,GAAK,CACnB,MAAMC,EAAW,EAAE,OAAO,QAAQ,oCAAoC,EAChEC,EAAY,EAAE,OAAO,QAAQ,iCAAiC,EAEpE,GAAI,GAACD,GAAY,CAACC,GAElB,IAAIA,EAAW,CACb7C,EAAc6C,EAAU,QAAQ,QAAQ,EACxCC,IACA,MACD,CAED,GAAIF,EAAU,CAEZ,MAAMG,GADOlD,EAAOH,CAAM,GAAK,CAAA,GACT,KAAKsD,GAAMA,EAAG,MAAQJ,EAAS,QAAQ,UAAU,EAEnEG,GACFE,GAAgBF,EAAU,GAAM,EAAI,CAEvC,EACH,EAEIvB,EAAK,SACPA,EAAK,QAAQ,iBAAiB,QAASmB,CAAO,EAKhD,SAASO,EAAsBC,EAAY,CACzC,GAAK3B,EAAK,gBAEV,IAAI2B,GAAc,EAAG,CACnB3B,EAAK,gBAAgB,UAAY,GACjC,MACD,CAEDA,EAAK,gBAAgB,UAAY,MAAM,KACrC,CAAE,OAAQ2B,CAAY,EACtB,CAACC,EAAGC,IAAM;AAAA;AAAA;AAAA;AAAA,kCAIoB5B,IAAS4B,EAAI,EAAI,SAAW,EAAE;AAAA,uBACzCA,EAAI,CAAC;AAAA,YAChBA,EAAI,CAAC;AAAA;AAAA;AAAA,KAIjB,EAAI,KAAK,EAAE,EACX,CAEI7B,EAAK,iBACPA,EAAK,gBAAgB,iBAAiB,QAAS,GAAK,CAClD,MAAM8B,EAAM,EAAE,OAAO,QAAQ,iBAAiB,EACzCA,IAEL7B,EAAO,OAAO6B,EAAI,QAAQ,IAAI,EAC9BR,IACJ,CAAG,EAKI,MAAMA,EAAe,IAAM,CAChC,GAAI,CAAC,SAAS,cAAc,sBAAsB,EAAG,OAErD,MAAMS,EAAU1D,EAAOH,CAAM,GAAK,CAAA,EAC5B8D,EAAO1B,EAAeyB,CAAO,EAEnC,GAAI,CAACC,EAAK,OAAQ,CAChBhC,EAAK,QAAQ,UAAU,OAAO,iBAAiB,EAC/CA,EAAK,iBAAiB,UAAU,OAAO,iBAAiB,EACxDA,EAAK,QAAQ,UAAU,IAAI,iBAAiB,EAC5CA,EAAK,gBAAgB,UAAY,GACjC,MACD,CAMD,GAJAA,EAAK,QAAQ,UAAU,IAAI,iBAAiB,EAC5CA,EAAK,iBAAiB,UAAU,IAAI,iBAAiB,EACrDA,EAAK,QAAQ,UAAU,OAAO,iBAAiB,EAE3C,OAAO,WAAa,KAAM,CAC5B,MAAM2B,EAAa,KAAK,KAAKK,EAAK,OAAS9B,CAAc,EACrDD,EAAO0B,IAAY1B,EAAO0B,GAE9BnB,EAAYL,EAAe6B,EAAM/B,CAAI,CAAC,EACtCyB,EAAsBC,CAAU,CACpC,MACInB,EAAYwB,CAAI,EAChBhC,EAAK,gBAAgB,UAAY,EAErC,EAGA,OAAO,iBAAiB,SAAU,IAAM,CACtCC,EAAO,EACPqB,GACF,CAAC,EAEDA,IACAnC,EAAaa,EAAK,cAAc,ECpNzB,eAAeiC,EAAsBxD,EAAI,CAAE,MAAAyD,EAAO,KAAAC,EAAM,QAAAC,CAAO,EAAI,CACxE,MAAMC,EAAM,kDAAkD5D,CAAE,UAChE0D,EAAO,OAAOA,CAAI,EAElB,MAAMG,EAAW,MAAM,MAAMD,EAAK,CAChC,OAAQ,QACR,QAAS,CACP,eAAgB,kBACjB,EACD,KAAM,KAAK,UAAU,CACnB,MAAAH,EACA,KAAAC,EACA,OAAQC,CACd,CAAK,CACL,CAAG,EAED,GAAI,CAACE,EAAS,GAAI,CAChB,MAAMC,EAAY,MAAMD,EAAS,OACjC,MAAM,IAAI,MAAMC,EAAU,SAAW,eAAe,CACrD,CAED,OAAOD,EAAS,MAClB,CAEA,MAAME,EAAe,SAAS,eAAe,gBAAgB,EACvDC,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAkB,SAAS,cAAc,oBAAoB,EAC7DC,GAAe,SAAS,cAAc,gBAAgB,EAE5D,IAAIC,EAAa,KACjB,MAAMC,EAAe,CACnB,KAAM,EACN,MAAO,GACP,QAAS,EACX,EAEAL,EAAY,SAAW,GAEvB,SAASM,IAAY,CACnBR,EAAU,MAAQ,GAClBC,EAAY,MAAQ,GACpBM,EAAa,KAAO,EACpBA,EAAa,QAAU,GACvBA,EAAa,MAAQ,GAErBH,EAAgB,YAAc,MAEN,SAAS,iBAAiB,oBAAoB,EACtD,QAAQK,GAAQ,CAC9BA,EAAK,MAAM,KAAO,iBACtB,CAAG,CACH,CAEAX,EAAa,iBAAiB,QAAS,IAAM,CAC3CC,EAAS,UAAU,OAAO,SAAS,CACrC,CAAC,EAEDA,EAAS,iBAAiB,QAASW,GAAS,CACtCA,EAAM,SAAWX,GAAUA,EAAS,UAAU,OAAO,SAAS,CACpE,CAAC,EAEDI,EAAc,iBAAiB,QAASO,GAAS,CAC/C,MAAMC,EAAkB,SAAS,iBAAiB,oBAAoB,EACtE,GAAKD,EAAM,OAAO,QAAQ,GAE1B,CAAAH,EAAa,KAAO,OAAOG,EAAM,OAAO,QAAQ,EAAE,EAElD,QAASvB,EAAI,EAAGA,EAAI,EAAGA,IACrBwB,EAAgBxB,CAAC,EAAE,MAAM,KACvBA,EAAIoB,EAAa,KAAO,sBAAwB,kBAGpDH,EAAgB,YAAc,GAAGG,EAAa,IAAI,KACpD,CAAC,EAEM,SAASK,GAAgB7E,EAAI,CAClCuE,EAAavE,EACbgE,EAAS,UAAU,IAAI,SAAS,CAClC,CAEAM,GAAa,iBAAiB,SAAUQ,EAAc,EAEtD,eAAeA,GAAeH,EAAO,CAKnC,GAJAA,EAAM,eAAc,EACpBH,EAAa,MAAQP,EAAU,MAAM,KAAI,EACzCO,EAAa,QAAUN,EAAY,MAAM,KAAI,GAAM,OAE/C,CAACM,EAAa,KAAM,CACtBO,EAAS,MAAM,CACb,QAAS,yBACT,SAAU,WACV,MAAO,KACb,CAAK,EACD,MACD,CAED,GAAIP,EAAa,MACf,GAAI,CACF,MAAMhB,EAAsBe,EAAYC,CAAY,EACpDO,EAAS,QAAQ,CACf,QAAS,0BACT,SAAU,WACV,MAAO,OACf,CAAO,EACDN,KACAT,EAAS,UAAU,OAAO,SAAS,CACpC,OAAQgB,EAAO,CACdD,EAAS,MAAM,CACb,QAAS,GAAGC,EAAM,OAAO,GACzB,SAAU,WACV,MAAO,KACf,CAAO,CACF,MAEDD,EAAS,MAAM,CACb,QAAS,0BACT,SAAU,WACV,MAAO,KACb,CAAK,CAEL,CC1HA,MAAME,EAAe,SAAS,cAAc,oBAAoB,EAChE,IAAIC,EAAc,GACdC,EAAiB,CAAA,EACjBC,EAAY,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,EACxDA,GACFA,EAAU,QAAQC,GAAW,CACtBF,EAAe,CAAC,IAAGA,EAAe,CAAC,EAAIE,GAC5CF,EAAe,KAAKE,CAAO,CAC/B,CAAG,EAGH,SAASC,EAAsBC,EAAQ,CACrC,MAAO,GAAGA,EAAO,OAAO,CAAC,EAAE,aAAa,GAAGA,EAAO,MAAM,CAAC,CAAC,EAC5D,CAEe,SAASvC,GACtBF,EACA0C,EAAQ,GACRC,EAAkB,GAClB,CACAP,EAAcM,EACTN,GACHC,EAAe,QAAQE,GAAW,CAC5BA,EAAQ,MAAQvC,EAAS,MAAKoC,EAAc,GACtD,CAAK,EAGHQ,GAAY5C,CAAQ,EACpBmC,EAAa,UAAU,IAAI,cAAc,EACzC,SAAS,KAAK,UAAU,IAAI,gBAAgB,EAExCC,IAAgB,KAClB,SAAS,cAAc,oBAAoB,EAAE,UAAY;AAAA;AAAA;AAAA,kBAK7D,CAEA,SAASQ,GAAYjF,EAAMgF,EAAiB,CAC1C,IAAIE,EAASlF,EAAK,OACdkF,EAAS,IAAM,IAAGA,GAAU,MAChCA,EAAS,WAAWA,CAAM,EAAE,QAAQ,CAAC,EACrC,MAAM3D,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOCvB,EAAK,MAAM;AAAA;AAAA,kCAEK6E,EAAsB7E,EAAK,IAAI,CAAC;AAAA;AAAA;AAAA;AAAA,sCAI5BkF,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAgCIL,EACpC7E,EAAK,MACjB,CAAW;AAAA;AAAA;AAAA;AAAA,+CAIoC6E,EACnC7E,EAAK,QACjB,CAAW;AAAA;AAAA;AAAA;AAAA,+CAIoC6E,EACnC7E,EAAK,SACjB,CAAW;AAAA;AAAA;AAAA;AAAA,oDAIyCA,EAAK,UAAU;AAAA;AAAA;AAAA;AAAA,gDAInBA,EAAK,cAAc,IAAIA,EAAK,IAAI;AAAA;AAAA;AAAA,mCAG7CA,EAAK,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAWjDwE,EAAa,UAAYjD,EACzB,MAAM4D,EAAU,SAAS,iBAAiB,mBAAmB,EAC7D,QAASxC,EAAI,EAAGA,EAAI,KAAK,MAAM3C,EAAK,MAAM,EAAG,EAAE2C,EAC7CwC,EAAQxC,CAAC,EAAE,MAAM,KAAO,UAG1B,MAAMyC,EAAY,SAAS,cAAc,oBAAoB,EAE7DA,EAAU,iBAAiB,QAAS,UAAY,CACzCX,GASHY,EAAgCrF,EAAK,GAAG,EACxCoF,EAAU,UAAY;AAAA;AAAA;AAAA,kBAItBX,EAAc,KAbdC,EAAe,KAAK1E,CAAI,EACxBsF,EAAyBZ,CAAc,EACvCU,EAAU,UAAY;AAAA;AAAA;AAAA,kBAItBX,EAAc,IAShBrC,GACJ,CAAG,EAED,SAAS,eAAe,YAAY,EAAE,iBAAiB,QAAS,IAAM,CACpEoC,EAAa,UAAU,OAAO,cAAc,EAC5C,SAAS,KAAK,UAAU,OAAO,gBAAgB,CACnD,CAAG,EAEDA,EAAa,iBAAiB,QAASN,GAAS,CAC1CA,EAAM,SAAWM,IACnBA,EAAa,UAAU,OAAO,cAAc,EAC5C,SAAS,KAAK,UAAU,OAAO,gBAAgB,EAErD,CAAG,EAED,SAAS,cAAc,kBAAkB,EAAE,iBAAiB,QAAS,IAAM,CACzEA,EAAa,UAAU,OAAO,cAAc,EAC5C,SAAS,KAAK,UAAU,OAAO,gBAAgB,EAC/CJ,GAAgBpE,EAAK,GAAG,CAC5B,CAAG,CACH"}